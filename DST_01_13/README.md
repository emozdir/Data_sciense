# Проект 1. Анализ данных об оттоке клиентов некоторого банка

## Оглавление
[1. Описание проекта](README.md#Описание-проекта)

[2. Задача проекта](README.md#Задача-проекта)

[3. Краткая информация о данных](README.md#Краткая-информация-о-данных)

[4. Этапы работы над проектом](README.md#Этапы-работы-над-проектом)

[5. Результат](README.md#Результат)

[6. Выводы](README.md#Выводы)

### Описание проекта
Банк обратился за помощью, он хочет разработать кампанию лояльности по удержанию клиентов, для этого необходимо, выяснить основные причины оттока клиентов. Нужно **установить, чем ушедшие клиенты отличаются от лояльных и как между собой связаны различные признаки, определяющие клиентов.**

После разведовательного анализа, с целью выявления важных признаков оттока, банк планирует построить модель машинного обучения, которая будет прогнозировать уход клиента.

Основная задача - подготовить **мини-отчет о проведанной работе в виде ноутбука**. Отчет должен содержать ответы на список вопросов в виде графика и подробных выводов к ним.

:arrow_up:[К оглавлению](README.md#Оглавление)

### Задача проекта
Основная задача - подготовить **мини-отчет о проведанной работе в виде ноутбука**. Отчет должен содержать ответы на список вопросов в виде графика и подробных выводов к ним.

**Список вопросов:**
- **Вопрос 1**. Каково соотношение ушедших и лояльных клиентов? Покажите это на графике и дайте комментарий по соотношению.
- **Вопрос 2**. Постройте график, показывающий распределение баланса пользователей, у которых на счету больше 2 500 долларов. Опишите распределение и сделайте выводы.
- **Вопрос 3**. Посмотрите на распределение баланса клиента в разрезе признака оттока. Как различаются суммы на накопительном счёте ушедших и лояльных клиентов? Подумайте и напишите, с чем это может быть связано, что может не устраивать ушедших клиентов в банке.
- **Вопрос 4**. Посмотрите на распределение возраста в разрезе признака оттока. В какой группе больше потенциальных выбросов? На какую возрастную категорию клиентов стоит обратить внимание банку?
- **Вопрос 5**. Постройте график, который показывает взаимосвязь кредитного рейтинга клиента и его предполагаемой зарплаты. Добавьте расцветку по признаку оттока клиентов. Какова взаимосвязь между признаками? Если не видите явной взаимосвязи, укажите это.
- **Вопрос 6**. Кто чаще уходит, мужчины или женщины? Постройте график, который иллюстрирует это.
- **Вопрос 7**. Как отток клиентов зависит от числа приобретённых у банка услуг? Для ответа на этот вопрос постройте многоуровневую столбчатую диаграмму.
- **Вопрос 8**. Как влияет наличие статуса активного клиента на отток клиентов? Постройте диаграмму, иллюстрирующую это. Что бы вы предложили банку, чтобы уменьшить отток клиентов среди неактивных?
- **Вопрос 9**. В какой стране доля ушедших клиентов больше? Постройте тепловую картограмму, которая покажет это соотношение на карте мира. Предположите, с чем это может быть связано.
- **Вопрос 10**. Переведите числовой признак CreditScore в категориальный.  Для этого воспользуйтесь функцией get_credit_score_cat(), которая приведена ниже. Примените её к столбцу CreditScore и создайте новый признак CreditScoreCat — категории кредитного рейтинга.
  
  Постройте сводную таблицу, строками которой являются категории кредитного рейтинга (CreditScoreCat), а столбцами — количество лет, в течение которых клиент пользуется услугами банка (Tenure). В ячейках сводной таблицы должно находиться среднее по признаку оттока (Exited) — доля ушедших пользователей.

  На основе полученной сводной таблицы постройте тепловую карту с аннотацией. Найдите на тепловой карте категории клиентов, которые уходят чаще всего.

**Метрика качества**
В результатирующем отчете должно содержаться 10 графиков и пояснения к ним.

**Что практикуем**
- Практикуем визуализацию данных в Python

:arrow_up:[К оглавлению](README.md#Оглавление)

### Краткая информация о данных
В качестве данных выступает csv файл (таблица) с данными об оттоке клиентов некоторого банка.

**Столбцы таблицы:**

1. *RowNumber* - номер строки таблицы (информация лишняя, можем удалить)
2. *CustomerId* - идентификатор клиента
3. *Surname* - фамилия клиента
4. *CreditScore* - кредитный рейтинг (чем выше, тем больше клиент брал кредитов и возвращал их)
5. *Geography* - страна клиента (банк международный)
6. *Gender* - пол клиента
7. *Age* - возраст клиента
8. *Tenure* - сколько лет клиент пользуется услугами банка
9. *Balance* - баланс на счетах клиента
10. *NumOfProducts* - количество услуг банка, которые приобрел клиент
11. *HasCrCard* - если у клиента кредитная карта (1 - да, 0 - нет)
12. *IsActiveMember* - есть ли у клиента статус активного клиента банка (1 - да, 0 - нет)
13. *EstimatedSalary* - предполагаемая заработная плата клиента
14. *Exited* - статус лояльности (1 - ушедший клиент, 0 - лояльный клиент)

:arrow_up:[К оглавлению](README.md#Оглавление)

### Этапы работы над проектом
- Читаем наши данные из csv файла, приводим в табличный формат.
- Проводим предварительную обработку данных (делаем копию таблицы, удаляем лишние столбцы, переводим данные в нужный формат)
- Создаем графики, отвечающие на вопросы из перечня.
- Делаем вывод по графику

:arrow_up:[К оглавлению](README.md#Оглавление)

### Результат
В результате работы получим ответы на вопросы банка, о причинах оттока клиентов.

:arrow_up:[К оглавлению](README.md#Оглавление)

### Выводы

В результате были сделаны следующие выводы:
1. 20% от всех клиентов, то есть каждый 5 клиент уходит из банка.
2. Уровень баланса на счетах показывает 'нормальное' распределение. Основное количество клиентов имеет на счетах от 100 до 140 тыс. доларов. Медианный баланс 120 тыс. доларов. Менее 40 тыс. и более 200 тыс. имеет на счетах не значительное количество клиентов.
3. У 35% клиентов баланс счета находится в пределах 10 тыс. доларов, отток клиентов из этой категории минимальный - менее 15% (около 500 человек из 3500). Вторая категория клиентов, имеющие на счетах более 10 тыс. доларов, отчего очевидно являются более важными клиентами, показывают нормальное распределение, в среднем отток клиентов этой категории около 20%, Однако на медианном значении их баланса (110-130 тыс. доларов) наблюдается увеличение оттока клиентов до 27% (244 клиента из 875).Клиенты имеющие наибольший баланс (ближе к 250 тыс.) на счетах ушли из банка. Банку необходимо обратить более пристальное внимание на категории клиентов имеющих значительные накопления на счетах.
4. Потенциальных выбросов уровня возраста клиентов гораздо больше в группе лояльных клиентов, однако это показывает, что у банка достаточно лояльных клиентов во всех категориях возраста. Основное количество лояльных клиентов гораздо младше (31-41 год) чем основное количество ушедших (38-51 лет), это говорит о том, что Банку имеет смысл уделить больше внимания на группу более старшего рабочего возраста, создав для них более комфортные условия.
5. Взаимосвязь между уровнем зарабатной платы и кредитным рейтингом отсуствует. В разрезе признаков оттока клиентов, виден незначительный сдвиг, лояльные клиенты как правило имеют кредитный рейтинг выше 400 пп., все клиенты с рейтингом ниже 400 - ушедшие клиенты. С максимальным кредитным рейтингом - 850 пп. большая часть клиентов - лояльна.
6. В процентном соотношении женщины уходят из банка чаще чем мужчины (примерно на 10%), однако в абсолютном значении мужчины чаще являются клиентами банка, соответственно количество ушедших мужчин и женщин примерно одинаково.
Банку необходимо продумать системы лояльности для клиентов женского пола, не только для их "удержания", но и привлечения в банк.
7. Основное количество лояльных клиентов банка пользуется не более двумя услугами банка. Ни одного лояльного клиента не воспользовалась 4 услугами банка, 1% воспользовавшихся - ушедшие клиенты. В целом более 2 услуг использует менее 4% клиентов банка. Основное количество ушедших клиентов, не обращается в банк повторно (подавляющее число клиентов ушло после одной преобретенной услуги).
8. В абсолютном значении, количество активных и не активных клиентов примерно одинаково. В процентном отношении очевидно, что не активные клиенты уходят из банка в 2 раза чаще активных. Соответственно, банку необходимо принять меры по стимулируванию не активных клиентов, побуждая пользоваться счетами чаще (программы лояльности, кэш-бэк).
9. В Германии доля ушедших клиентов наибольшая - составляет 32% (в Испании и Франции - 16%). 
Единственную взаимосвязь которую можно проследить из таблицы средних значений по странам, это средний уровень баланса счета. В Германии баланс на счетах клиентов в среднем выше в 2 раза чем в других странах. Исходя из этого можно предположить, что так как клиенты "более богаты", у них и требования к банку повышенные. Или у банка не достаточно программ для привлечения "более бедных" клиентов.
10. Чаще всего банк покидают клиенты категории "Очень бедные", наибольшая частота зафиксирована, у клиентов, которые не были клиентами банка и года - 44%, и наоборот у постоянных клиентов (10 лет) - 33%. 
Достаточно часто банк покидают и клиенты с превосходной кредитной историей, причем отток зафиксирован как у постоянных клиентов (25-27%), так и у новых клиентов 21-28%. 

:arrow_up:[К оглавлению](README.md#Оглавление)
